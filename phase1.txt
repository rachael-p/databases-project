1. Rachael Pei, Alina Pan

2. Target domain: environmental data from the EPA toxics release inventory (TRI) about production and use of toxic chemicals.

3. Possible Questions to be Answered by the Data
   Q1: For a given reporting year, which facilities in a specified state reported to TRI, and what were their total releases across all media (air, water, land)?
   Q2: For each EPA region and year, what is the total amount of toxic releases by medium (air, water, land) for all chemicals combined?
   Q3: For each chemical in a given year, what is the total quantity released across all facilities and media, and which 10 chemicals have the largest total releases?
   Q4: For carcinogenic chemicals only, what is the total amount released per state in a given year, and which states have the highest carcinogen releases?
   Q5: For PFAS chemicals, what is the average annual total release per EPA region over a specified range of years?
   Q6: For a selected facility, how have its total releases (broken down by medium) changed over time across multiple years?
   Q7: Which facilities both produce and import the same chemical in the same year, and what are the total releases for that chemical at those facilities?
   Q8: For each industry (based on NAICS or similar industry_code), what is the total toxic release in a given year, and which industries contribute the most to overall releases?
   Q9: For each chemical, how many distinct facilities and how many distinct states reported that chemical in a given year?
   Q10: For a given state and year, which chemicals have the largest total releases, and are any of them flagged as carcinogens, PFAS, or metals?
   Q11: For each POTW facility, what is the total amount of toxic chemicals transferred to it in a given year, and which 5 POTWs receive the largest total transfers?
   Q12: For each facility and year, what is the total quantity of chemicals transferred to POTWs versus the total quantity directly released to the environment (sum of air, water, and land releases)?
   Q13: Which facilities have implemented source reduction activities in a given year, what types of activities (src_red_code and description) did they adopt, and what estimated annual reduction codes did they report?
   Q14: Which facilities have large total environmental releases (above a given threshold) in a year but reported no source reduction activities for that year?
   Q15: For a specific source reduction activity code, how many implementations were reported over a range of years, and in which industries and states were these activities most commonly adopted?

4. Relational data model: see skeleton_tables.sql for the SQL DDL implementation.
   Facility(facility_id PK, facility_name, city, state, region_code FK->EPARegion, email)
   EPARegion(region_code PK, region_desc)
   Chemical(cas_reg_num PK, chem_name, carcinogen, pfas, metal)
   Form(doc_ctrl_num PK, facility_id FK->Facility, cas_reg_num FK->Chemical, year, max_amt_code FK->MaxAmtChem, produces, imports, sale_dist, byproduct, process_impurity, industry_code FK->Industry)
   MaxAmtChem(max_amt_code PK, max_amt_desc)
   Industry(industry_code PK, industry_desc)
   ReleaseRecord(doc_ctrl_num FK->Form, medium, total_release, PK(doc_ctrl_num, medium))
   SourceReductionActivity(src_red_code PK, src_red_desc)
   ImplementsSourceReduction(doc_ctrl_num FK->FORM, src_red_code FK->SourceReductionActivity, activity_num, est_annual_red_code FK->EstimatedAnnualReduction, PK(doc_ctrl_num, activity_num))
   EstimatedAnnualReduction(est_annual_red_code PK, est_annual_desc)
   POTWFacility(potw_id PK, potw_name, potw_city, potw_state)
   TransferredToPOTW(doc_ctrl_num FK->Form, potw_id FK->POTWFacility, potw_num, transfer_amt, PK(doc_ctrl_num, potw_num))

5. Representative SQL statements for sample queries: see p1_queries.sql

6. Sources: https://www.epa.gov/enviro/tri-ez-search, mostly from the flat form R tables and the 'Chemical Transfers to POTW Locations' table; https://ordspub.epa.gov/ords/guideme_ext/guideme_ext/guideme/file/tri%20reporting%20codes%20for%20form%20r%20and%20form%20a%20-%20july%202022.pdf for code descriptions
Anticipated conversion issues: we will need to create some columns ourselves and change some formatting. For instance, the total releases are listed as AirTotalRelease, LandTotalRelease, etc. but we want to create a generalized ReleaseRecord that will have an attribute for the type of medium instead, which will require some preprocessing on our part. We will also need to create numberings/relative orderings ourselves to number entites like the source reduction activities and POTWs: they are labeled as POTW 1, POTW 2, etc. in the raw data, but we will need to extract those numbers and make them an attribute instead to create generalized entitities.

7. We are planning to generate various charts/plots/data visualizations using certain parts of the data (ex. bar charts, pie charts, potentially maps). Not entirely sure what the user interface will look like exactly like, but we are considering creating separate tabs/sections of the webpage to correspond with metrics for different entities (ex. you can see a subset of visualizations related to chemicals vs. facilities vs. POTWs). We'd also like to add a natural language interface that will allow users to generate custom plots. 

8. It would be interesting to look at natural language interfaces (ex. having the user be able to type in a query in English and our system will be able to process that and create analyses/outputs). We are planning on calling an LLM API to process the text and generate corresponding SQL.

